(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{655:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>m});var o=l(5881),a=l(9521);l(6797);let n=e=>{let t={...e,roomType:JSON.parse(e.roomType)};return console.log("Formatted Response",t),t};var s=l(2152),i=l(7524),r=l(5056),c=l.n(r),d=l(1885);async function u(e){let t=new(c());for(let a of e){var l,o;let e=new s.Ay,n=a["Hotel Name"]||"Unnamed Hotel";e.setFontSize(18),e.setFont("helvetica","bold"),e.text(n,14,20);let r=[];r.push(["Address",a.Address||""]),r.push(["Phone",a["Phone  "]||""]),r.push(["Email",a.Email||""]),r.push(["Website",a.Website||""]),r.push(["Check-in Time",a["Check-in Time"]||""]),r.push(["Check-out Time",a["Check-out Time"]||""]),r.push(["Contact Name",a["Contact Name * "]||""]);let c=Object.entries(a).filter(e=>{let[t,l]=e;return"on"===l}).map(e=>{let[t]=e;return t}).join("\n");r.push(["Facilities",c]),a["Cancellation Policy "]&&r.push(["Cancellation Policy",a["Cancellation Policy "]]),(0,i.Ay)(e,{startY:28,head:[["Field","Value"]],body:r,theme:"plain",styles:{fontSize:10,cellPadding:2},columnStyles:{0:{fontStyle:"bold",cellWidth:50}}});let d=(null==(l=a.roomType)?void 0:l.filter(e=>e["Number of Rooms"]&&"0"!==e["Number of Rooms"]))||[];d.length>0&&(0,i.Ay)(e,{startY:(null==(o=e.lastAutoTable)?void 0:o.finalY)+10||40,head:[["Type","Custom Name","Guests","Rooms","Published Rate","Agency Rate"]],body:d.map(e=>[e.type||"",e["Custom Room Name"]||"",e["Allowed Guests"]||"",e["Number of Rooms"]||"",e["Published Rate (excl. VAT)"]||"",e["Agency Rate (excl. VAT)"]||""]),theme:"plain",styles:{fontSize:10,cellPadding:2}});let u=e.output("blob"),m=n.replace(/[^a-zA-Z0-9]/g,"_")+".pdf";t.file(m,u)}let a=await t.generateAsync({type:"blob"});(0,d.saveAs)(a,"hotel_pdfs.zip")}let m=function(){let e=async()=>{console.log("Downloading data...");try{var e;let t=(await a.A.get("https://api.genusbd.com/api/response")).data;console.log("Data downloaded successfully",null==t?void 0:t.data);let l=null==t||null==(e=t.data)?void 0:e.map(e=>n(e.responses));console.log("Extracted Data",l),u(l)}catch(e){console.error("Error in downloading data",e)}};return(0,o.jsx)("div",{className:"flex justify-center items-center",children:(0,o.jsx)("button",{onClick:e,className:"bg-orange-500 px-4 py-2 rounded-lg my-8 text-white cursor-pointer",children:"Download Data"})})}},2658:(e,t,l)=>{Promise.resolve().then(l.bind(l,655))}},e=>{var t=t=>e(e.s=t);e.O(0,[570,521,817,364,770,358],()=>t(2658)),_N_E=e.O()}]);